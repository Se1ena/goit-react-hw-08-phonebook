"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[609],{6609:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var r,s,a,i=t(6907),c=t(2791),o=t(9434),l=t(6916),d=function(e){return e.contacts.items},u=function(e){return e.contacts.isLoading},x=(0,l.P1)([d,function(e){return e.filters.name}],(function(e,n){var t=n.trim().toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)})).sort((function(e,n){return e.name.localeCompare(n.name)}))})),h=t(3634),p=t(9439),m=t(168),f=t(7691),j=f.ZP.form(r||(r=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n  padding: 20px;\n  border: 1px solid gray;\n"]))),g=f.ZP.button(s||(s=(0,m.Z)(["\n  max-width: 100px;\n  margin-top: 10px;\n  padding: 5px;\n  border-radius: 5px;\n  border: none;\n  cursor: pointer;\n  background-color: #80808061;\n"]))),b=f.ZP.label(a||(a=(0,m.Z)(["\n  display: flex;\n  flex-direction: row;\n  align-items: flex-start;\n  -webkit-box-pack: justify;\n  justify-content: space-between;\n  gap: 35px;\n  font-size: 15px;\n  font-weight: 600;\n"]))),v=t(184),y=function(){var e=(0,c.useState)(""),n=(0,p.Z)(e,2),t=n[0],r=n[1],s=(0,c.useState)(""),a=(0,p.Z)(s,2),i=a[0],l=a[1],u=(0,o.v9)(d),x=(0,o.I0)(),m=function(e){switch(e.target.name){case"name":r(e.target.value);break;case"number":l(e.target.value);break;default:console.log("Error in ".concat(e.target.name))}},f=function(e){return u.find((function(n){return n.name===e}))};return(0,v.jsxs)(j,{onSubmit:function(e){e.preventDefault(),function(e,n){if(f(e))alert("".concat(e," is already in your contacts!"));else{var t={name:e,phone:n};x((0,h.uK)(t))}}(t,i),r(""),l("")},children:[(0,v.jsxs)(b,{children:[(0,v.jsx)("div",{children:"Name"}),(0,v.jsx)("input",{value:t,onChange:m,name:"name",type:"text",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Enter name"})]}),(0,v.jsxs)(b,{children:[(0,v.jsx)("div",{children:"Number"}),(0,v.jsx)("input",{value:i,onChange:m,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,placeholder:"Enter phone number"})]}),(0,v.jsx)(g,{type:"submit",children:"Add contact"})]})},C=t(1413),w=t(8348),Z=t(4087),k=t(5946),z=t(9229),_=t(4224),S=t(2089),A=t(3380),F=t(7693),I=t(7521),P=t(4653),D=function(e){var n=e.id,t=e.name,r=e.number,s=(0,o.I0)(),a=(0,c.useState)(!1),i=(0,p.Z)(a,2),l=i[0],d=i[1],u=(0,w.q)(),x=u.isOpen,m=u.onOpen,f=u.onClose,j=(0,c.useRef)();return(0,v.jsxs)(Z.xu,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,v.jsxs)(Z.xu,{children:[(0,v.jsx)(k.X,{size:"xs",textTransform:"uppercase",children:t}),(0,v.jsx)(z.x,{pt:"1",fontSize:"sm",children:r})]}),(0,v.jsx)(_.z,{colorScheme:"red",variant:"outline",size:"xs",type:"button",onClick:m,disabled:l,children:l?"Deleting...":"Delete"}),(0,v.jsx)(S.a,{isOpen:x,leastDestructiveRef:j,onClose:f,children:(0,v.jsx)(A.Z,{children:(0,v.jsxs)(S._,{children:[(0,v.jsx)(F.x,{fontSize:"lg",fontWeight:"bold",children:"Delete Contact"}),(0,v.jsx)(I.f,{children:"Are you sure? You can't undo this action afterwards."}),(0,v.jsxs)(P.m,{children:[(0,v.jsx)(_.z,{ref:j,onClick:f,children:"Cancel"}),(0,v.jsx)(_.z,{colorScheme:"red",onClick:function(){d(!0),s((0,h.GK)(n))},ml:3,children:"Delete"})]})]})})})]})},E=t(9223),O=t(1279),q=function(){var e=(0,o.v9)(x);return(0,v.jsx)(E.K,{divider:(0,v.jsx)(O.c,{}),spacing:"4",children:e.map((function(e){return(0,v.jsx)(D,(0,C.Z)({},e),e.id)}))})},N=t(2418),K=t(7886),L=t(4585),X=function(){var e=(0,o.v9)(d),n=(0,o.I0)();return 0===e.length?null:(0,v.jsxs)(Z.xu,{my:5,children:[(0,v.jsx)(L.l,{htmlFor:"nameFilter",children:"Find contacts by name"}),(0,v.jsx)(K.I,{id:"nameFilter",name:"name",label:"Email",onChange:function(e){n((0,N.u)(e.target.value))},autoComplete:"off",type:"search"})]})},R=t(8594),Y=t(568),$=t(2899),B=t(1882),G=t(3303),H=t(3204);function J(){var e=(0,o.I0)(),n=(0,o.v9)(u),t=(0,o.v9)(x);return(0,c.useEffect)((function(){e((0,h.yF)())}),[e]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(i.ql,{children:(0,v.jsx)("title",{children:"Your contacts"})}),(0,v.jsxs)(R.r,{templateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:4,children:[(0,v.jsx)(Y.P,{children:(0,v.jsxs)($.Z,{pos:"sticky",top:"1rem",children:[(0,v.jsx)(B.O,{children:(0,v.jsx)(k.X,{size:"md",children:"New contact"})}),(0,v.jsx)(G.e,{pt:0,children:(0,v.jsx)(y,{})})]})}),(0,v.jsx)(Y.P,{children:(0,v.jsxs)($.Z,{minH:"100%",children:[(0,v.jsx)(B.O,{pb:0,children:(0,v.jsxs)(k.X,{size:"md",display:"flex",alignItems:"center",children:["Contacts (",t.length,")"," ",n&&(0,v.jsx)(H.$,{size:"sm",color:"purple.500",ml:2})]})}),(0,v.jsxs)(G.e,{pt:0,children:[(0,v.jsx)(X,{}),(0,v.jsx)(q,{})]})]})})]})]})}}}]);
//# sourceMappingURL=609.e5be544c.chunk.js.map